//
#include "vtex.cgh"

uniform float2 dcoef;

float4 main(float2 texCoord: TEXCOORD0) : COLOR
{
  float lod = ceil(calcLod(ddx(texCoord)*dcoef.x, ddy(texCoord)*dcoef.y));
  float scale = exp2(lod);
  float2 tileIdx = floor(texCoord * indexSize / scale);
  return float4(tileIdx, lod, 1);
}
